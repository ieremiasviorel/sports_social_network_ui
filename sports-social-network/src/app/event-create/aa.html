<div class="eventDiv">
  <form name="form" #f="ngForm" class="form-createEvent"
        (ngSubmit)="f.form.valid && onCreate(eventName, eventNrPart, eventPrice, eventAddress, eventAdditionalInfo, eventSport, eventSkill, eventType)">
    <h2>Create your Own Event</h2>
    <p>Name of the event*:</p>
    <input type="text"
      name="eventName" [(ngModel)]="model.eventName" #eventName="ngModel" [ngClass]="{ 'is-invalid': f.submitted && eventName.invalid }"
      required minlength="4" placeholder="Type name of the event">
    <div *ngIf="(eventName.touched || f.submitted) && eventName.invalid" style="color: red;font-size: small;">
      <div *ngIf="eventName?.errors.required ">
        You must provide a name for the event.
      </div>
      <div *ngIf="eventName?.errors.minlength">
        Name is too short. Needs at least 4 characters.
      </div>
    </div>
    <br>
    <p>Number of participants*:</p>
    <input type="number"
           name="eventNrPart" [(ngModel)]="model.eventNrPart" #eventNrPart="ngModel" [ngClass]="{ 'is-invalid': f.submitted && eventNrPart.invalid }"
           required placeholder="Insert a positive number of required participants">
    <div *ngIf="(eventNrPart.touched || f.submitted) && eventNrPart.invalid" style="color: red;font-size: small;">
      <div *ngIf="eventNrPart?.errors.required">
        You must provide the number of participants for the event.
      </div>
    </div>

    <br>
    <p>Price:</p>
    <input type="number" #eventPrice placeholder="Insert a positive price">
    <br>
    <p>Address*:</p>
    <input name="eventAddress" [(ngModel)]="model.eventAddress" #eventAddress="ngModel" [ngClass]="{ 'is-invalid': f.submitted && eventAddress.invalid }"
       required minlength="10" placeholder="Type the address of the event">
    
    <br>
    <p>Additional information:</p>
    <input #eventAdditionalInfo placeholder="Insert additional information about the event">
    <br>

    <br>
    <mat-form-field>
      <mat-select required name="eventSport" [(ngModel)]="model.eventSport" #eventSport="ngModel" placeholder="Sport"
                  [ngClass]="{ 'is-invalid': f.submitted && eventSport.invalid }">
        <mat-option *ngFor="let sport of sports" [value]="sport">{{ sport }}</mat-option>
      </mat-select>
    </mat-form-field>
    <div *ngIf="(eventSport.touched || f.submitted) && eventSport.invalid" style="color: red;font-size: small;">
      <div *ngIf="eventSport?.errors.required">
        You must provide the sport for the event.
      </div>
    </div>
    <br>

    <mat-form-field>
      <mat-select required name="eventSkill" [(ngModel)]="model.eventSkill" #eventSkill="ngModel" placeholder="Skill level"
                  [ngClass]="{ 'is-invalid': f.submitted && eventSkill.invalid }">
        <mat-option  *ngFor="let skill_level of skill" [value]="skill_level">{{ skill_level }}</mat-option>
      </mat-select>
    </mat-form-field>
    <div *ngIf="(eventSkill.touched || f.submitted) && eventSkill.invalid" style="color: red;font-size: small;">
      <div *ngIf="eventSkill?.errors.required">
        You must provide the skill level for the event.
      </div>
    </div>
    <br>

    <mat-form-field>
      <mat-select required name="eventType" [(ngModel)]="model.eventType" #eventType="ngModel" placeholder="Type"
                  [ngClass]="{ 'is-invalid': f.submitted && eventType.invalid }">
        <mat-option *ngFor="let t of type" [value]="t">{{ t }}</mat-option>
      </mat-select>
    </mat-form-field>
    <div *ngIf="(eventType.touched || f.submitted) && eventType.invalid" style="color: red;font-size: small;">
      <div *ngIf="eventType?.errors.required">
        You must provide the type of the event.
      </div>
    </div>
    <br>
    <agm-map [latitude]="latitude" [longitude]="longitude"></agm-map>
    <button class="btn-createEvent">CREATE</button>
<form [formGroup]="eventCreationForm" class="flex-container">
  <div>
    <mat-form-field>
      <input matInput formControlName="name" placeholder="name of the event">
    </mat-form-field>
    <br>
    <mat-form-field>
      <input matInput formControlName="participants" placeholder="required no. of participants">
    </mat-form-field>
    <br>
    <mat-form-field>
      <input matInput formControlName="price" placeholder="costs or fees">
    </mat-form-field>

    <button mat-raised-button (click)="onCreate()" color="primary" class="form-button">Submit</button>
    <button mat-raised-button (click)="onCancel()" color="warn" class="form-button">Cancel</button>
  </div>
  <div>
    <mat-form-field>
      <mat-select formControlName="category" placeholder="event category">
        <mat-option *ngFor="let sport of SPORTS" [value]="sport">{{ sport }}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field>
      <mat-select formControlName="skill" placeholder="participants skill level">
        <mat-option *ngFor="let skill of SKILL_LEVELS" [value]="skill">{{ skill }}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field>
      <mat-select formControlName="type" placeholder="event type">
        <mat-option *ngFor="let type of TYPE" [value]="type">{{ type }}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>additional information</mat-label>
      <textarea matInput formControlName="description" placeholder="additional information"></textarea>
    </mat-form-field>
  </div>
  <div>
    <mat-calendar [selected]="selectedDate"></mat-calendar>
  </div>
</form>
<agm-map [latitude]="latitude" [longitude]="longitude"></agm-map>
