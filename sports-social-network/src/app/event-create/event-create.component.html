<form [formGroup]="eventCreationForm" class="flex-container" name="form" #f="ngForm" class="form-createEvent"
  (ngSubmit)="f.form.valid && onCreate(eventName, eventNrPart, eventPrice, eventAddress, eventAdditionalInfo, eventSport, eventSkill, eventType)">
  <div>
    <mat-form-field>
      <input matInput formControlName="name" placeholder="name of the event">
      <div *ngIf="(eventName.touched || f.submitted) && eventName.invalid" style="color: red;font-size: small;">
        <div *ngIf="eventName?.errors.required ">
          You must provide a name for the event.
        </div>
        <div *ngIf="eventName?.errors.minlength">
          Name is too short. Needs at least 4 characters.
        </div>
      </div>
    </mat-form-field>
    <br>
    <mat-form-field>
      <input matInput formControlName="participants" placeholder="required no. of participants">
      <div *ngIf="(eventNrPart.touched || f.submitted) && eventNrPart.invalid" style="color: red;font-size: small;">
        <div *ngIf="eventNrPart?.errors.required">
          You must provide the number of participants for the event.
        </div>
      </div>
    </mat-form-field>
    <br>
    <mat-form-field>
      <input matInput formControlName="price" placeholder="costs or fees">
    </mat-form-field>

    <button mat-raised-button (click)="onCreate()" color="primary" class="form-button">Submit</button>
    <button mat-raised-button (click)="onCancel()" color="warn" class="form-button">Cancel</button>
  </div>
  <div>
    <mat-form-field>
      <mat-select formControlName="category" placeholder="event category">
        <mat-option *ngFor="let sport of SPORTS" [value]="sport">{{ sport }}</mat-option>
      </mat-select>
      <div *ngIf="(eventSport.touched || f.submitted) && eventSport.invalid" style="color: red;font-size: small;">
        <div *ngIf="eventSport?.errors.required">
          You must provide the sport for the event.
        </div>
      </div>
    </mat-form-field>
    <mat-form-field>
      <mat-select formControlName="skill" placeholder="participants skill level">
        <mat-option *ngFor="let skill of SKILL_LEVELS" [value]="skill">{{ skill }}</mat-option>
      </mat-select>
      <div *ngIf="(eventSkill.touched || f.submitted) && eventSkill.invalid" style="color: red;font-size: small;">
        <div *ngIf="eventSkill?.errors.required">
          You must provide the skill level for the event.
        </div>
      </div>
    </mat-form-field>
    <mat-form-field>
      <mat-select formControlName="type" placeholder="event type">
        <mat-option *ngFor="let type of TYPE" [value]="type">{{ type }}</mat-option>
      </mat-select>
      <div *ngIf="(eventType.touched || f.submitted) && eventType.invalid" style="color: red;font-size: small;">
        <div *ngIf="eventType?.errors.required">
          You must provide the type of the event.
        </div>
      </div>
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>additional information</mat-label>
      <textarea matInput formControlName="description" placeholder="additional information"></textarea>
    </mat-form-field>
  </div>
  <div>
    <mat-calendar [selected]="selectedDate"></mat-calendar>
  </div>
</form>
<agm-map [latitude]="latitude" [longitude]="longitude"></agm-map>
